{% extends 'base.html' %}
{% load static %}

{% block extra_title %}Discussion Board{% endblock %}

{% block content %}

<header>
  <h1 id="title">Discussion Board</h1>
</header>

<main>
  <div id="container">
    
    <!-- First Topic board-->
    {% for topic in topic_list reversed %}

      <div class="topic-container" id="{{ topic.id }}">
        <div class="topic-main">
          <span class="topic">{{ topic.title }}</span>
        </div>
        <div class="topic-content">
          <p>{{ topic.description }}</p>
        </div>
        
        <h2>Comments:</h2>
        
        <div class="comments-made">
          {% if comments %}
            {% for comment in comments %}
                <p>{{ comment }}</p>
            {% endfor %}
          {% else %}
            <p>Give verbal as well as written instructions (this also applies to using voicemail rather than, or as well as, written memos)</p>
          {% endif %}
        </div>
        <button class="btn" onclick="showComments({{ topic.id }});">Add Comment</button>

        <div class="comment-container" id="comments-{{ topic.id }}" hidden>
          <label for="user-comment">Enter your comment here:</label>
          <br>
          <textarea id="user-comment" name="user-comment" placeholder="Comment here...." rows="4" cols="50">

          </textarea>
          <br>
          <button class="comment-submit btn">Submit Comment</button>
        </div>
      </div>
      <hr>
    {% endfor %}
        </div>
    </main>

{% endblock %}

{% block page_scripts %}
  <script type="text/javascript" src="{% static 'js/discussions.js' %}"></script>
{% endblock %}